{
    "$schema": "http://schema.management.azure.com/schemas/2021-09-09/uiFormDefinition.schema.json#",
    "view": {
        "kind": "Form",
        "properties": {
            "title": "Dedicated Landing Zone Deployment",
            "steps": [
                {
                    "name": "basics",
                    "label": "Basics",
                    "elements": [
                        {
                            "name": "managementGroupPrefix",
                            "type": "Microsoft.Common.TextBox",
                            "label": "Management Group Prefix",
                            "toolTip": "Prefix for the Management Group hierarchy",
                            "constraints": {
                                "required": true,
                                "regex": "^[a-zA-Z0-9-]{1,10}$",
                                "validationMessage": "Prefix must be between 1 and 10 characters long and contain letters, numbers, and hyphens only."
                            }
                        },
                        {
                            "name": "subscription1",
                            "type": "Microsoft.Common.Subscription",
                            "label": "Identity Management and Connectivity Subscription",
                            "toolTip": "Select the subscription for Identity Management and Connectivity"
                        },
                        {
                            "name": "subscription2",
                            "type": "Microsoft.Common.Subscription",
                            "label": "Landing Zone Subscription",
                            "toolTip": "Select the subscription for the Landing Zone"
                        }
                    ]
                },
                {
                    "name": "resources",
                    "label": "Resources",
                    "elements": [
                        {
                            "name": "keyVaultName",
                            "type": "Microsoft.Common.TextBox",
                            "label": "Key Vault Name",
                            "toolTip": "Name of the Key Vault to be created in Subscription 1",
                            "constraints": {
                                "required": true,
                                "regex": "^[a-z0-9-]{3,24}$",
                                "validationMessage": "The Key Vault name must be between 3 and 24 characters long, contain lowercase letters, numbers, and hyphens only."
                            }
                        },
                        {
                            "name": "vnetName",
                            "type": "Microsoft.Common.TextBox",
                            "label": "VNet Name",
                            "toolTip": "Name of the VNet to be created in Subscription 2",
                            "constraints": {
                                "required": true,
                                "regex": "^[a-z0-9-]{3,24}$",
                                "validationMessage": "The VNet name must be between 3 and 24 characters long, contain lowercase letters, numbers, and hyphens only."
                            }
                        },
                        {
                            "name": "vnetAddressPrefix",
                            "type": "Microsoft.Common.TextBox",
                            "label": "VNet Address Prefix",
                            "toolTip": "Address prefix for the VNet (e.g., 10.0.0.0/16)",
                            "constraints": {
                                "required": true,
                                "regex": "^([0-9]{1,3}\.){3}[0-9]{1,3}\/[0-9]{1,2}$",
                                "validationMessage": "The VNet address prefix must be a valid CIDR block (e.g., 10.0.0.0/16)."
                            }
                        }
                    ]
                }
            ]
        },
        "outputs": {
            "managementGroupPrefix": "[steps('basics').managementGroupPrefix]",
            "subscription1": "[steps('basics').subscription1]",
            "subscription2": "[steps('basics').subscription2]",
            "keyVaultName": "[steps('resources').keyVaultName]",
            "vnetName": "[steps('resources').vnetName]",
            "vnetAddressPrefix": "[steps('resources').vnetAddressPrefix]"
        }
    }
}
