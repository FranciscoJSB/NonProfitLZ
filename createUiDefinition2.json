{
    "handler": "Microsoft.Azure.ResourceGroup",
    "version": "1.0.0.0",
    "parameters": {
      "basics": [
        {
          "name": "resourceGroup",
          "type": "Microsoft.Common.ResourceGroupPicker",
          "label": "Resource Group"
        },
        {
          "name": "vnetName",
          "type": "Microsoft.Common.TextBox",
          "label": "VNet Name",
          "defaultValue": "myVnet",
          "constraints": {
            "required": true,
            "regex": "^[a-zA-Z0-9-_.]{1,64}$",
            "validationMessage": "VNet name must be 1-64 characters long and contain only letters, numbers, dots, underscores, and hyphens."
          }
        },
        {
          "name": "location",
          "type": "Microsoft.Common.Location",
          "label": "Location",
          "defaultValue": "[resourceGroup().location]"
        },
        {
          "name": "addressPrefix",
          "type": "Microsoft.Common.TextBox",
          "label": "Address Prefix",
          "defaultValue": "10.0.0.0/16",
          "constraints": {
            "required": true,
            "regex": "^([0-9]{1,3}\\.){3}[0-9]{1,3}/[0-9]{1,2}$",
            "validationMessage": "Address prefix must be in CIDR notation (e.g., 10.0.0.0/16)."
          }
        },
        {
          "name": "subnetName",
          "type": "Microsoft.Common.TextBox",
          "label": "Subnet Name",
          "defaultValue": "default",
          "constraints": {
            "required": true,
            "regex": "^[a-zA-Z0-9-_.]{1,64}$",
            "validationMessage": "Subnet name must be 1-64 characters long and contain only letters, numbers, dots, underscores, and hyphens."
          }
        },
        {
          "name": "subnetPrefix",
          "type": "Microsoft.Common.TextBox",
          "label": "Subnet Prefix",
          "defaultValue": "10.0.0.0/24",
          "constraints": {
            "required": true,
            "regex": "^([0-9]{1,3}\\.){3}[0-9]{1,3}/[0-9]{1,2}$",
            "validationMessage": "Subnet prefix must be in CIDR notation (e.g., 10.0.0.0/24)."
          }
        }
      ],
      "steps": [
        {
          "name": "review",
          "label": "Review + create",
          "bladeTitle": "Review + create",
          "elements": [
            {
              "name": "summary",
              "type": "Microsoft.Common.Summary",
              "label": "Summary",
              "elements": [
                {
                  "name": "resourceGroup",
                  "label": "Resource Group",
                  "value": "[resourceGroup().name]"
                },
                {
                  "name": "vnetName",
                  "label": "VNet Name",
                  "value": "[basics('vnetName')]"
                },
                {
                  "name": "location",
                  "label": "Location",
                  "value": "[basics('location')]"
                },
                {
                  "name": "addressPrefix",
                  "label": "Address Prefix",
                  "value": "[basics('addressPrefix')]"
                },
                {
                  "name": "subnetName",
                  "label": "Subnet Name",
                  "value": "[basics('subnetName')]"
                },
                {
                  "name": "subnetPrefix",
                  "label": "Subnet Prefix",
                  "value": "[basics('subnetPrefix')]"
                }
              ]
            }
          ]
        }
      ]
    }
  }
  
