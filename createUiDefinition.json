{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "view": {
        "kind": "Form",
        "properties": {
            "title": "Resource Group Deployment",
            "isWizard": false,
            "steps": [
                {
                    "name": "deploymentLocation",
                    "label": "Deployment Location",
                    "elements": [
                        {
                            "name": "location",
                            "type": "Microsoft.Common.LocationSelector",
                            "label": "Region",
                            "constraints": {
                                "required": true
                            }
                        }
                    ]
                },
                {
                    "name": "mgmtGroupSettings",
                    "label": "Management Group Settings",
                    "elements": [
                        {
                            "name": "mgmtGroupPrefix",
                            "type": "Microsoft.Common.TextBox",
                            "label": "Management Group Prefix",
                            "toolTip": "Enter the prefix for the Management Group.",
                            "constraints": {
                                "required": true,
                                "validations": [
                                    {
                                        "regex": "^[a-zA-Z0-9-]{1,10}$",
                                        "message": "The prefix must be between 1 and 10 characters long and contain only letters, numbers, and hyphens."
                                    }
                                ]
                            }
                        },
                        {
                            "name": "subscriptionSelector",
                            "type": "Microsoft.Common.SubscriptionSelector",
                            "label": "Subscription",
                            "constraints": {
                                "required": true
                            }
                        }
                    ]
                }
            ]
        },
        "outputs": {
            "location": "[steps('deploymentLocation').location]",
            "mgmtGroupPrefix": "[steps('mgmtGroupSettings').mgmtGroupPrefix]",
            "subscriptionId": "[steps('mgmtGroupSettings').subscriptionSelector.subscriptionId]"
        }
    }
}
