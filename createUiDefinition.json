{
    "$schema": "<relative path to createFormUI.schema.json>",
    "view": {
        "kind": "Form",
        "properties": {
            "title": "FSI Landing Zones on Microsoft Azure",
            "isWizard": false,
            "steps": [
                {
                    "name": "basics",
                    "label": "Deployment location",
                    "elements": [
                        {
                            "name": "resourceScope",
                            "type": "Microsoft.Common.ResourceScope"
                        }
                    ]
                },
                {
                    "name": "lzSettings",
                    "label": "Management Group and Subscription Organization",
                    "subLabel": {
                        "preValidation": "Provide a prefix for the management group structure that will be created.",
                        "postValidation": "Done"
                    },
                    "bladeTitle": "Company prefix",
                    "elements": [
                        {
                            "name": "info",
                            "type": "Microsoft.Common.InfoBox",
                            "visible": true,
                            "options": {
                                "text": "FSI Landing Zones requires access at the tenant root (/) scope. Visit this link to ensure you have the appropriate RBAC permission to complete the deployment",
                                "uri": "https://docs.microsoft.com/azure/role-based-access-control/elevate-access-global-admin",
                                "style": "Info"
                            }
                        },
                        {
                            "name": "mgSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Management Groups",
                            "elements": [
                                {
                                    "name": "mgmtGroup",
                                    "type": "Microsoft.Common.TextBlock",
                                    "visible": true,
                                    "options": {
                                        "text": "FSI Landing Zones will create the management group hierarchy under the Tenant Root Group with the prefix provided at this step, which will be used to establish a proven architecture for subscription organization and policy driven governance at scale.",
                                        "link": {
                                            "label": "Learn more",
                                            "uri": "https://github.com/microsoft/industry/tree/main/fsi#fsi-landing-zones-on-microsoft-azure"
                                        }
                                    }
                                },
                                {
                                    "name": "esMgmtGroup",
                                    "type": "Microsoft.Common.TextBox",
                                    "label": "Management Group prefix",
                                    "toolTip": "Provide a prefix (max 10 characters, unique at tenant-scope) for the Management Group hierarchy and other resources created as part of FSI Landing Zones.",
                                    "defaultValue": "",
                                    "constraints": {
                                        "required": true,
                                        "regex": "^[a-z0-9A-Z-]{1,10}$",
                                        "validationMessage": "The prefix must be 1-10 characters."
                                    }
                                }
                            ],
                            "visible": true
                        },
                        {
                            "name": "rpRegistrationApi",
                            "type": "Microsoft.Solutions.ArmApiControl",
                            "request": {
                                "method": "POST",
                                "path": "[concat('/providers/Microsoft.Management/managementGroups/',steps('basics').resourceScope.tenant.tenantId, '/providers/Microsoft.PolicyInsights/register?api-version=2021-04-01')]"
                            }
                        },
                        {
                            "name": "subSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Subscription Organization",
                            "elements": [
                                {
                                    "name": "subOrg",
                                    "type": "Microsoft.Common.TextBlock",
                                    "visible": true,
                                    "options": {
                                        "text": "FSI Landing Zones recommends dedidated subscriptions for the Azure platform functionality, such as Security, Governance, Compliance, Network Connectivity, and Identity and Access. This enables the organization to scale the Azure platform and the workloads in the landing zones independently regardless of future scale-point.",
                                        "link": {
                                            "label": "Learn more",
                                            "uri": "https://github.com/microsoft/industry/blob/main/fsi/docs/architectureAndDesign.md#architecture-and-design"
                                        }
                                    }
                                },
                                {
                                    "name": "subOrgsOption",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Select dedicated subscriptions or a single subscription for FSI Landing Zones platform resources",
                                    "defaultValue": "Dedicated (recommended)",
                                    "toolTip": "Dedicated subscriptions will require separate Azure subscriptions for platform resources and is the recommended option for production environments. The single subscription option will deploy all platform resources on a single subscription.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Dedicated (recommended)",
                                                "value": "Dedicated"
                                            },
                                            {
                                                "label": "Single",
                                                "value": "Single"
                                            }
                                        ]
                                    },
                                    "visible": true
                                }
                            ],
                            "visible": false
                        },
                        {
                            "name": "esSingleSubSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Single platform subscription",
                            "elements": [
                                {
                                    "name": "subWarning",
                                    "type": "Microsoft.Common.InfoBox",
                                    "visible": true,
                                    "options": {
                                        "icon": "Warning",
                                        "text": "Dedicated subscriptions are recommended for the various platform components to ensure scale, sustainability, and segregation of duties, and especially around networking. However, a single subscription can also be used in case this is not a concern (e.g., small organizations, or testing purposes).",
                                        "uri": "https://docs.microsoft.com/azure/cloud-adoption-framework/ready/enterprise-scale/management-group-and-subscription-organization"
                                    }
                                },
                                {
                                    "name": "singleSubText",
                                    "type": "Microsoft.Common.TextBlock",
                                    "visible": true,
                                    "options": {
                                        "text": "Select the single subscription that will be used for all platform resources during deployment, for security, logging, connectivity, and identity."
                                    }
                                },
                                {
                                    "type": "Microsoft.Common.SubscriptionSelector",
                                    "name": "esSingleSub",
                                    "label": "Single platform subscription"
                                }
                            ],
                            "visible": "[equals(steps('lzSettings').subSection.subOrgsOption, 'Single')]"
                        }
                    ]
                },
                {
                    "name": "esGoalState",
                    "label": "Management and Monitoring",
                    "subLabel": {
                        "preValidation": "",
                        "postValidation": ""
                    },
                    "bladeTitle": "lzGs",
                    "elements": [
                        {
                            "name": "multiPlatformMgmtSub",
                            "type": "Microsoft.Common.InfoBox",
                            "visible": true,
                            "options": {
                                "text": "To enable platform management and monitoring, you must allocate a dedicated Azure Subscription. Please note, this Subscription will be moved to the platform Management Group, and ARM will deploy a Log Analytics workspace and requisite settings. We recommend using a new Subscription with no existing resources. Note that Azure Policy will be used to govern the configuration for the platform at scale.",
                                "uri": "https://docs.microsoft.com/azure/cloud-adoption-framework/ready/enterprise-scale/management-and-monitoring",
                                "style": "Info"
                            }
                        },
                        {
                            "name": "singlePlatformMgmtSub",
                            "type": "Microsoft.Common.InfoBox",
                            "visible": true,
                            "options": {
                                "text": "To enable management and monitoring, you can configure core infra such as Log Analytics and additional monitoring solutions to your dedicated platform subscription. Note that Azure Policy will be used to govern the configuration for the platform at scale.",
                                "uri": "https://docs.microsoft.com/azure/cloud-adoption-framework/ready/enterprise-scale/management-and-monitoring",
                                "style": "Info"
                            }
                        },
                        {
                            "name": "esMgmtSubSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Management subscription",
                            "elements": [
                                {
                                    "type": "Microsoft.Common.SubscriptionSelector",
                                    "name": "esMgmtSub",
                                    "label": "Management subscription"
                                }
                            ],
                            "visible": true
                        },
                        {
                            "name": "azMonSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Azure Monitor",
                            "elements": [
                                {
                                    "name": "azMonText",
                                    "type": "Microsoft.Common.TextBlock",
                                    "visible": true,
                                    "options": {
                                        "text": "Azure Monitor with Log Analytics provides the core infrastructure to enable platform observability, security, and log retention for the FSI Landing Zones. You can create a dedicated Log Analytics workspace and enable curated analytical solutions, that will also intersect with Microsoft Defender for Cloud and Microsoft Sentinel.",
                                        "link": {
                                            "label": "Learn more",
                                            "uri": "https://learn.microsoft.com/azure/azure-monitor/logs/log-analytics-overview"
                                        }
                                    }
                                },
                                {
                                    "name": "esLogAnalytics",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Deploy Log Analytics workspace and enable monitoring for your platform and resources",
                                    "defaultValue": "Yes (recommended)",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, Log Analytics workspace will be created in the dedicated subscription and enable additional configuration options in the deployment wizard.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes (recommended)",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esLogRetention",
                                    "type": "Microsoft.Common.Slider",
                                    "min": 30,
                                    "max": 730,
                                    "label": "Log Analytics Data Retention (days)",
                                    "subLabel": "Days",
                                    "defaultValue": 30,
                                    "showStepMarkers": false,
                                    "toolTip": "Select retention days for Azure logs. Default is 30 days. If longer retention is required, you can optionally configure Log Analytics data export to a Storage Account or an Event Hub namespace.",
                                    "constraints": {
                                        "required": false
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esEventHub",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Enable Log Analytics Data Export to Event Hub for SIEM integration",
                                    "defaultValue": "No",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, Log Analytics workspace will be created in the dedicated subscription and enable additional configuration options in the deployment wizard.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esEventHubDataExports",
                                    "type": "Microsoft.Common.DropDown",
                                    "label": "Enable Log Analytics Data Export to Event Hub for SIEM integration",
                                    "defaultValue": [
                                        "Security Alert",
                                        "Security Event",
                                        "Security Incident"
                                    ],
                                    "multiselect": true,
                                    "multiLine": true,
                                    "selectAll": true,
                                    "defaultDescription": "Select the tables you want to export to Event Hub",
                                    "filter": true,
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, Log Analytics workspace will be created in the dedicated subscription and enable additional configuration options in the deployment wizard.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Security Alert",
                                                "description": "Table used by Defender for Cloud and Microsoft Sentinel for alerts",
                                                "value": "SecurityAlert"
                                            },
                                            {
                                                "label": "Security Baseline",
                                                "description": "Table used by Defender for Cloud security baseline for Virtual Machines, VMWare, Azure Stack HCI, SCVMM, and Virtual Machine Scale Sets",
                                                "value": "SecurityBaseline"
                                            },
                                            {
                                                "label": "Security Baseline Summary",
                                                "description": "Table used by Defender for Cloud security baseline summary for Virtual Machines, VMWare, Azure Stack HCI, and SCVMM",
                                                "value": "SecurityBaselineSummary"
                                            },
                                            {
                                                "label": "Security Detection",
                                                "description": "Table used by Security and Audit solution for Log Analytics workspace",
                                                "value": "SecurityDetection"
                                            },
                                            {
                                                "label": "Security Event",
                                                "description": "Table used by Security and Audit solution for Log Analytics workspace and Microsoft Sentinel",
                                                "value": "SecurityEvent"
                                            },
                                            {
                                                "label": "Security Incident",
                                                "description": "Table used by Microsoft Sentinel",
                                                "value": "SecurityIncident"
                                            },
                                            {
                                                "label": "Security Recommendation",
                                                "description": "Table used by Defender for Cloud and Security and Audit solution for Log Analytics workspace",
                                                "value": "SecurityRecommendation"
                                            },
                                            {
                                                "label": "Sentinel Audit",
                                                "description": "Table used by Microsoft Sentinel",
                                                "value": "SentinelAudit"
                                            },
                                            {
                                                "label": "Sentinel Health",
                                                "description": "Table used by Microsoft Sentinel",
                                                "value": "SentinelHealth"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "monitoring",
                                    "type": "Microsoft.Common.TextBlock",
                                    "visible": true,
                                    "options": {
                                        "text": "Select which Azure Monitor solutions you will enable for your Log Analytics workspace",
                                        "link": {
                                            "label": "Learn more",
                                            "uri": "https://docs.microsoft.com/azure/azure-monitor/insights/solutions"
                                        }
                                    }
                                },
                                {
                                    "name": "esAgentSolution",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Deploy Agent Health solution",
                                    "defaultValue": "Yes (recommended)",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes (recommended)",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esChangeTracking",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Deploy Change Tracking solution",
                                    "defaultValue": "Yes (recommended)",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes (recommended)",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esUpdateMgmt",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Deploy Update Management solution",
                                    "defaultValue": "Yes (recommended)",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes (recommended)",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esActivityLog",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Deploy Activity Log solution",
                                    "defaultValue": "Yes (recommended)",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes (recommended)",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esVmInsights",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Deploy VM Insights solution",
                                    "defaultValue": "Yes (recommended)",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes (recommended)",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esServiceMap",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Deploy Service Map solution",
                                    "defaultValue": "Yes (recommended)",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes (recommended)",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                },
                                {
                                    "name": "esSqlAssessment",
                                    "type": "Microsoft.Common.OptionsGroup",
                                    "label": "Deploy SQL Assessment solution",
                                    "defaultValue": "Yes (recommended)",
                                    "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                                    "constraints": {
                                        "allowedValues": [
                                            {
                                                "label": "Yes (recommended)",
                                                "value": "Yes"
                                            },
                                            {
                                                "label": "No",
                                                "value": "No"
                                            }
                                        ]
                                    },
                                    "visible": true
                                }
                            ],
                            "visible": true
                        }
                    ]
                },
                {
                    "name": "esGovState",
                    "label": "Security, Governance, and Compliance",
                    "subLabel": {
                        "preValidation": "",
                        "postValidation": ""
                    },
                    "bladeTitle": "lzGovernance",
                    "elements": [
                        {
                            "name": "govInfo",
                            "type": "Microsoft.Common.InfoBox",
                            "visible": true,
                            "options": {
                                "text": "To enable platform security, governance, and compliance, you can configure Microsoft Cloud Security Benchmark, Compliant and Secure by-default Azure services, Microsoft Defender for Cloud, and additional governance solutions. Note that Azure Policy will be used to govern the configuration for the platform at scale.",
                                "uri": "https://learn.microsoft.com/security/benchmark/azure/overview",
                                "style": "Info"
                            }
                        },
                        {
                            "name": "asbSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Microsoft Cloud Security Benchmark",
                            "elements": []
                        },
                        {
                            "name": "mcsbText",
                            "type": "Microsoft.Common.TextBlock",
                            "visible": true,
                            "options": {
                                "text": "The Microsoft Cloud Security Benchmark focuses on cloud-centric control areas. These controls are consistent with well-known security benchmarks, such as those described by the Center for Internet Security (CIS) Controls, National Institute of Standards and Technology (NIST), and Payment Card Industry Data Security Standard (PCI-DSS).",
                                "link": {
                                    "label": "Learn more",
                                    "uri": "https://learn.microsoft.com/security/benchmark/azure/overview"
                                }
                            }
                        },
                        {
                            "name": "mcsbPolicy",
                            "type": "Microsoft.Common.OptionsGroup",
                            "label": "Assign Microsoft Cloud Security Benchmark Policy Initiative",
                            "defaultValue": "Yes (recommended)",
                            "toolTip": "If 'Yes' is selected, the MCSB will be assigned at the intermediate root management group to provide an aggregated compliance view for the FSI Landing Zones architecture.",
                            "constraints": {
                                "allowedValues": [
                                    {
                                        "label": "Yes (recommended)",
                                        "value": "Yes"
                                    },
                                    {
                                        "label": "No",
                                        "value": "No"
                                    }
                                ]
                            },
                            "visible": true
                        },
                        {
                            "name": "secureByDefaultSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Compliant and Secure by-default",
                            "elements": []
                        },
                        {
                            "name": "secureByDefaultText",
                            "type": "Microsoft.Common.TextBlock",
                            "visible": true,
                            "options": {
                                "text": "FSI Landing Zones enables a 'compliant and secure by-default' landing zones for your Azure services. Select the Azure services you want to have enforced as 'secure by-default' via Azure policy to satisfy regulatory requirements. The services you select are the only one that can be deployed to the landing zones, in the Azure regions you have enabled during this deployment.",
                                "link": {
                                    "label": "Learn more about 'secure by-default' for FSI Landing Zones",
                                    "uri": "https://github.com/microsoft/industry/blob/main/fsi/docs/securityGovernanceAndCompliance.md#compliant-and-secure-by-default-fsi-landing-zones"
                                }
                            }
                        },
                        {
                            "name": "secureSvc",
                            "type": "Microsoft.Common.DropDown",
                            "label": "Secure by-default Azure Services",
                            "placeholder": "",
                            "defaultValue": [
                                "API Management",
                                "App Service",
                                "Automation",
                                "Backup",
                                "Cognitive Search",
                                "Compute",
                                "Container Apps",
                                "Container Instance",
                                "Container Registry",
                                "Cosmos DB",
                                "Data Explorer",
                                "Data Factory",
                                "Event Grid",
                                "Event Hub",
                                "Key Vault",
                                "Kubernetes",                                
                                "Machine Learning",
                                "Networking", 
                                "Open AI",
                                "Postgre SQL",                                                                
                                "Service Bus",
                                "SQL",
                                "Storage Account",
                                "Synapse",
                                "Virtual Desktop"
                            ],
                            "toolTip": "",
                            "multiselect": true,
                            "selectAll": true,
                            "filter": true,
                            "filterPlaceholder": "Filter items ...",
                            "multiLine": true,
                            "defaultDescription": "Select the Azure services that must be secure by-default",
                            "constraints": {
                                "allowedValues": [
                                    {
                                        "label": "API Management",
                                        "description": "Azure policies will ensure secure by-default compliance for API Management, such as enforcement of strong protocols, encryption, access via private endpoint, and centralized logging.",
                                        "value": "Apim"
                                    },
                                    {
                                        "label": "App Service",
                                        "description": "Azure policies will ensure secure by-default compliance for App Service (including Function Apps), such as enforcement of strong protocols, access via private endpoint, and centralized logging.",
                                        "value": "AppService"
                                    },
                                    {
                                        "label": "Automation",
                                        "description": "Azure policies will ensure secure by-default compliance for Automation accounts, enforce access via private endpoints, encyrption of variables and centralized logging.",
                                        "value": "Automation"
                                    },
                                    {
                                        "label": "Backup",
                                        "description": "Azure policies will ensure secure by-default compliance for Backup and Recovery Services vaults, enforce immutable backups, encryption, and private over private endpoint.",
                                        "value": "Backup"
                                    },
                                    {
                                        "label": "Cognitive Search",
                                        "description": "Azure policies will ensure secure by-default compliance for Cognitive Search, enforce access via private endpoints, encyrption of variables and centralized authorization.",
                                        "value": "CognitiveSearch"
                                    },
                                    {
                                        "label": "Compute",
                                        "description": "Azure policies will ensure secure by-default compliance for Compute, enforce access via private endpoints, encyrption of variables and centralized authorization.",
                                        "value": "Compute"
                                    },
                                    {
                                        "label": "Container Apps",
                                        "description": "Azure policies will ensure secure by-default compliance for Container Apps, enforce access via private endpoints, encyrption of variables and centralized authorization.",
                                        "value": "ContainerApps"
                                    },
                                    {
                                        "label": "Container Instance",
                                        "description": "Azure policies will ensure secure by-default compliance for Container Instance, enforce access via private endpoints, encyrption of variables and centralized authorization.",
                                        "value": "ContainerInstance"
                                    },
                                    {
                                        "label": "Container Registry",
                                        "description": "Azure policies will ensure secure by-default compliance for Container Registry, enforce access via private endpoints, encyrption of variables and centralized authorization.",
                                        "value": "ContainerRegistry"
                                    },
                                    {
                                        "label": "Cosmos DB",
                                        "description": "Azure policies will ensure secure by-default compliance for Cosmos DB, enforce access via private endpoints, double encryption, centralized authorization, and centralized logging.",
                                        "value": "CosmosDb"
                                    },
                                    {
                                        "label": "Data Explorer",
                                        "description": "Azure policies will ensure secure by-default compliance for Data Explorer, enforce access via private endpoints, double encryption, centralized authorization, and centralized logging.",
                                        "value": "DataExplorer"
                                    },
                                    {
                                        "label": "Data Factory",
                                        "description": "Azure policies will ensure secure by-default compliance for Data Factory, enforce access via private endpoints, double encryption, centralized authorization, and centralized logging.",
                                        "value": "DataFactory"
                                    },
                                    {
                                        "label": "Event Grid",
                                        "description": "Azure policies will ensure secure by-default compliance for Event Grid, enforce access via private endpoints, centralized authorization, and centralized logging.",
                                        "value": "EventGrid"
                                    },
                                    {
                                        "label": "Event Hub",
                                        "description": "Azure policies will ensure secure by-default compliance for Event Hub, enforce access via private endpoints, centralized authorization, and centralized logging.",
                                        "value": "EventHub"
                                    },
                                    {
                                        "label": "Key Vault",
                                        "description": "Azure policies will ensure secure by-default compliance for Key Vaults, secrets, keys, and certificates, enforce access via private endpoints, purge protection, and centralized logging.",
                                        "value": "KeyVault"
                                    },
                                    {
                                        "label": "Kubernetes",
                                        "description": "Azure policies will ensure secure by-default compliance for Kubernetes (AKS), secrets, keys, and certificates, enforce access via private endpoints, centralized authorization and governance, and centralized logging.",
                                        "value": "Kubernetes"
                                    },
                                    {
                                        "label": "Machine Learning",
                                        "description": "Azure policies will ensure secure by-default compliance for Machine Learning, enforce access via private endpoints, centralized authorization, and centralized logging.",
                                        "value": "MachineLearning"
                                    },
                                    {
                                        "label": "Networking",
                                        "description": "Azure policies will ensure secure by-default compliance for Networking, such as enforcement of strong protocols, encryption, advanced threat protection, communication paths, and logging.",
                                        "value": "Networking"
                                    },
                                    
                                    {
                                        "label": "Open AI",
                                        "description": "Azure policies will ensure secure by-default compliance for Open AI, enforce access via private endpoints, centralized authorization, and centralized logging.",
                                        "value": "OpenAi"
                                    },
                                    {
                                        "label": "Postgre SQL",
                                        "description": "Azure policies will ensure secure by-default compliance for Postgre SQL, enforce access via private endpoints, centralized authorization, advanced threat protection and centralized logging.",
                                        "value": "PostgreSql"
                                    },
                                    {
                                        "label": "Service Bus",
                                        "description": "Azure policies will ensure secure by-default compliance for Service Bus, enforce access via private endpoints, double encryption, centralized authorization, and centralized logging.",
                                        "value": "ServiceBus"
                                    },
                                    {
                                        "label": "SQL",
                                        "description": "Azure policies will ensure secure by-default compliance for SQL servers and SQL databases, enforce access via private endpoints, centralized authorization, advanced threat protection and centralized logging.",
                                        "value": "Sql"
                                    },
                                    {
                                        "label": "Storage Account",
                                        "description": "Azure policies will ensure secure by-default compliance for Storage Accounts, such as enforcement of strong protocols, encryption, access via private endpoint, centralized authorization using Azure AD, and centralized logging.",
                                        "value": "StorageAccount"
                                    },
                                    {
                                        "label": "Synapse",
                                        "description": "Azure policies will ensure secure by-default compliance for Synapse, enforce access via private endpoints, double encryption, centralized authorization, and centralized logging.",
                                        "value": "Synapse"
                                    },
                                    {
                                        "label": "Virtual Desktop",
                                        "description": "Azure policies will ensure secure by-default compliance for Virtual Desktop, enforce access via private endpoints, centralized authorization, advanced threat protection and centralized logging.",
                                        "value": "VirtualDesktop"
                                    }
                                ]
                            },
                            "visible": true
                        },
                        {
                            "name": "esServiceMap",
                            "type": "Microsoft.Common.OptionsGroup",
                            "label": "Enable Microsoft Defender for Cloud",
                            "defaultValue": "Yes (recommended)",
                            "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                            "constraints": {
                                "allowedValues": [
                                    {
                                        "label": "Yes (recommended)",
                                        "value": "Yes"
                                    },
                                    {
                                        "label": "No",
                                        "value": "No"
                                    }
                                ]
                            },
                            "visible": true
                        },
                        {
                            "name": "esServiceMap",
                            "type": "Microsoft.Common.OptionsGroup",
                            "label": "Enable Microsoft Defender for Identity",
                            "defaultValue": "Yes (recommended)",
                            "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                            "constraints": {
                                "allowedValues": [
                                    {
                                        "label": "Yes (recommended)",
                                        "value": "Yes"
                                    },
                                    {
                                        "label": "No",
                                        "value": "No"
                                    }
                                ]
                            },
                            "visible": true
                        }
                    ]
                },
                {
                    "name": "esNetGoalState",
                    "label": "Network Connectivity and Topology",
                    "subLabel": {
                        "preValidation": "",
                        "postValidation": ""
                    },
                    "bladeTitle": "lzNetTopology",
                    "elements": [
                        {
                            "name": "multiPlatformConnectivitySub",
                            "type": "Microsoft.Common.InfoBox",
                            "visible": true,
                            "options": {
                                "text": "To enable connectivity for Azure and on-premises, you must allocate a dedicated connectivity Subscription. Please note, this Subscription will be moved to the connectivity Management Group, and ARM will deploy the first hub virtual network for either a hub and spoke or Virtual WAN network topology. Additional networking platform resources such as gateways or Azure Firewall can be deployed. We recommend using a new dedicated Subscription with no existing resources. When you need to scale-out networking, either into the same region and same subscription, or to a new region or a separate connectivity subscription, use the following link to deploy and scale-out.",
                                "uri": "https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/define-an-azure-network-topology",
                                "style": "Info"
                            }
                        },
                        {
                            "name": "singlePlatformConnectivitySub",
                            "type": "Microsoft.Common.InfoBox",
                            "visible": true,
                            "options": {
                                "text": "To enable network topology and connectivity for Azure and on-premises, you can select the preferred networking topology, and deploy this into the dedicated platform subscription. Additional networking platform resources such as gateways or Azure Firewall can also be deployed.",
                                "uri": "https://docs.microsoft.com/azure/cloud-adoption-framework/ready/azure-best-practices/define-an-azure-network-topology",
                                "style": "Info"
                            }
                        },
                        {
                            "name": "connSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Azure Connectivity Configuration",
                            "elements": [
                                {
                                    "name": "azMonText",
                                    "type": "Microsoft.Common.TextBlock",
                                    "visible": true,
                                    "options": {
                                        "text": "The FSI Landing Zones provides the foundational networking and connectivity services for deploying telco applications and services on Microsoft Azure at scale. Select the preferred networking topology and services for Azure and the Distributed Edge.",
                                        "link": {
                                            "label": "Learn more",
                                            "uri": "https://github.com/microsoft/industry/blob/main/telco/docs/telco-networking.md"
                                        }
                                    }
                                }
                            ],
                            "visible": true
                        },
                        {
                            "name": "esNwSubSection",
                            "type": "Microsoft.Common.Section",
                            "label": "Connectivity subscription",
                            "elements": [
                                {
                                    "type": "Microsoft.Common.SubscriptionSelector",
                                    "name": "esNwSub",
                                    "label": "Connectivity subscription"
                                }
                            ],
                            "visible": true
                        },
                        {
                            "name": "esAddressHubHS",
                            "type": "Microsoft.Common.TextBox",
                            "label": "Address space (required for hub virtual network)",
                            "toolTip": "Provide address prefix in CIDR notation (e.g 10.100.0.0/16)",
                            "defaultValue": "10.100.0.0/16",
                            "visible": true
                        },
                        {
                            "name": "esVpnGateway",
                            "type": "Microsoft.Common.OptionsGroup",
                            "label": "Deploy VPN Gateway",
                            "defaultValue": "No",
                            "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                            "constraints": {
                                "allowedValues": [
                                    {
                                        "label": "Yes",
                                        "value": "Yes"
                                    },
                                    {
                                        "label": "No",
                                        "value": "No"
                                    }
                                ]
                            },
                            "visible": true
                        },
                        {
                            "name": "esExpressRoute",
                            "type": "Microsoft.Common.OptionsGroup",
                            "label": "Deploy ExpressRoute Gateway",
                            "defaultValue": "No",
                            "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                            "constraints": {
                                "allowedValues": [
                                    {
                                        "label": "Yes",
                                        "value": "Yes"
                                    },
                                    {
                                        "label": "No",
                                        "value": "No"
                                    }
                                ]
                            },
                            "visible": true
                        },
                        {
                            "name": "esNsgFlowLogs",
                            "type": "Microsoft.Common.OptionsGroup",
                            "label": "Enable NSG Flow Logs and Traffic Analytics",
                            "defaultValue": "Yes (recommended)",
                            "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                            "constraints": {
                                "allowedValues": [
                                    {
                                        "label": "Yes (recommended)",
                                        "value": "Yes"
                                    },
                                    {
                                        "label": "No",
                                        "value": "No"
                                    }
                                ]
                            },
                            "visible": true
                        },
                        {
                            "name": "esDdosProtection",
                            "type": "Microsoft.Common.OptionsGroup",
                            "label": "Enable DDoS Protection",
                            "defaultValue": "Yes, DDoS Network Protection (recommended)",
                            "toolTip": "If 'Yes' is selected when also adding a subscription for management, the solution will be deployed to the Log Analytics workspace.",
                            "constraints": {
                                "allowedValues": [
                                    {
                                        "label": "Yes, DDoS Network Protection (recommended)",
                                        "value": "Yes"
                                    },
                                    {
                                        "label": "Yes, DDoS Network Protection per individual public IP addresses",
                                        "value": "YesPerIP"
                                    },
                                    {
                                        "label": "No",
                                        "value": "No"
                                    }
                                ]
                            },
                            "visible": true
                        }
                    ],
                    "visible": true
                }
            ]
        }
    }
}
